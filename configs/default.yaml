# Default Configuration for SAR Autoencoder
# ==========================================

# Data Settings
data:
  patches_path: "data/patches/patches.npy"
  val_fraction: 0.1
  batch_size: 16
  num_workers: 4
  augment_train: true

# Preprocessing Settings
preprocessing:
  vmin: -25  # Lower clip bound (dB)
  vmax: 5    # Upper clip bound (dB)
  clip_method: "percentile"  # percentile, fixed, or sigma
  clip_percentiles: [1, 99]

# Model Architecture
model:
  latent_channels: 64      # Controls compression (64 → 4× compression)
  base_channels: 64        # Base channel count
  use_bn: true             # Use batch normalization
  # architecture: "basic"  # basic, residual, unet, attention

# Loss Function
loss:
  mse_weight: 1.0
  ssim_weight: 0.1
  # edge_weight: 0.0       # For edge-preserving loss
  window_size: 11          # SSIM window size

# Training Settings
training:
  epochs: 50
  learning_rate: 0.0001
  weight_decay: 0
  betas: [0.9, 0.999]
  max_grad_norm: 1.0       # Gradient clipping
  
  # Learning rate scheduling
  lr_scheduler: "plateau"  # plateau, step, cosine
  lr_factor: 0.5           # LR reduction factor
  lr_patience: 10          # Epochs before LR reduction
  
  # Early stopping
  early_stopping_patience: 20

# Logging and Checkpointing
logging:
  log_dir: "runs"
  checkpoint_dir: "checkpoints"
  log_images_every: 5      # Epochs between image logging
  save_every: 5            # Epochs between checkpoints

# Inference Settings (for full image processing)
inference:
  patch_size: 256
  overlap: 32              # Overlap between patches
  batch_size: 16
